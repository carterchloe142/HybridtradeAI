{"version":3,"sources":["turbopack:///[project]/components/AdminGuard.tsx","turbopack:///[project]/pages/admin/kyc.tsx","turbopack:///[project]/node_modules/next/dist/esm/build/templates/pages.js"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { supabase } from '../lib/supabase';\n\ntype Profile = { role?: string | null; is_admin?: boolean | null };\n\nexport default function AdminGuard({ children }: { children: React.ReactNode }) {\n  const [status, setStatus] = useState<'loading' | 'noauth' | 'forbidden' | 'ok'>('loading');\n\n  useEffect(() => {\n    let mounted = true;\n    async function check() {\n      const { data } = await supabase.auth.getSession();\n      const user = data.session?.user;\n      if (!user) {\n        if (mounted) setStatus('noauth');\n        return;\n      }\n      const { data: profile } = await supabase\n        .from('profiles')\n        .select('role,is_admin')\n        .eq('user_id', user.id)\n        .maybeSingle();\n      const p = profile as Profile | null;\n      const isAdmin = Boolean(p?.is_admin) || String(p?.role || '').toLowerCase() === 'admin';\n      if (mounted) setStatus(isAdmin ? 'ok' : 'forbidden');\n    }\n    check();\n    return () => { mounted = false; };\n  }, []);\n\n  if (status === 'loading') return <div className=\"p-6\">Checking permissions…</div>;\n  if (status === 'noauth') return <div className=\"p-6\">Sign in required.</div>;\n  if (status === 'forbidden') return <div className=\"p-6\">Not authorized.</div>;\n  return <>{children}</>;\n}\n\n","import { useEffect, useState } from 'react';\nimport AdminGuard from '../../components/AdminGuard';\nimport { supabase } from '../../lib/supabase';\n\r\ntype KycRecord = {\n  user_id: string;\n  email: string;\n  kyc_status: 'pending' | 'approved' | 'rejected' | null;\n  kyc_level?: number | null;\n  kyc_submitted_at?: string | null;\n  kyc_decision_at?: string | null;\n  kyc_reject_reason?: string | null;\n};\n\r\nexport default function AdminKyc() {\n  const [list, setList] = useState<KycRecord[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [msg, setMsg] = useState('');\n  const [active, setActive] = useState<string | null>(null);\n  const [details, setDetails] = useState<any | null>(null);\n  const [files, setFiles] = useState<{ idUrl?: string; neutralUrl?: string; smileUrl?: string; leftUrl?: string; rightUrl?: string } | null>(null);\n  const [rejectReason, setRejectReason] = useState('');\n  const [recordLevels, setRecordLevels] = useState<Record<string, number>>({});\n  const [filterStatus, setFilterStatus] = useState<'all'|'pending'|'approved'|'rejected'>('all');\n  const [query, setQuery] = useState('');\n\r\n  async function fetchKyc() {\n    setLoading(true);\n    try {\n      const { data: session } = await supabase.auth.getSession();\n      const token = session.session?.access_token;\n      if (!token) throw new Error('Session lost');\n      const res = await fetch('/api/admin/kyc', { headers: { Authorization: `Bearer ${token}` } });\n      const json = await res.json();\n      if (!res.ok) throw new Error(json.error || 'Failed to load');\n      setList((json.items as any) || []);\n    } catch (e: any) {\n      setMsg(e.message);\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  async function viewDetails(userId: string) {\n    setActive(userId);\n    setDetails(null);\n    setFiles(null);\n    setRejectReason('');\n    try {\n      const { data: session } = await supabase.auth.getSession();\n      const token = session.session?.access_token;\n      if (!token) throw new Error('Session lost');\n      const res = await fetch(`/api/admin/kyc?userId=${encodeURIComponent(userId)}&files=1`, { headers: { Authorization: `Bearer ${token}` } });\n      const json = await res.json();\n      if (!res.ok) throw new Error(json.error || 'Failed');\n      setFiles(json.files || null);\n      setDetails(json.details || null);\n    } catch (e: any) {\n      setMsg(e.message);\n    }\n  }\n\r\n  async function setStatus(userId: string, status: 'approved' | 'rejected', level?: number) {\n    const { data: session } = await supabase.auth.getSession();\n    const token = session.session?.access_token;\n    if (!token) return setMsg('Session lost');\n    try {\n      const res = await fetch('/api/admin/kyc', {\n        method: 'PATCH',\n        headers: { 'Content-Type': 'application/json', Authorization: `Bearer ${token}` },\n        body: JSON.stringify({ userId, status, level, reason: status === 'rejected' ? rejectReason : undefined }),\n      });\n      const json = await res.json();\n      if (!res.ok) throw new Error(json.error || 'Failed');\n      setMsg(`KYC ${status}`);\n      fetchKyc();\n    } catch (e: any) {\n      setMsg(e.message);\n    }\n  }\n\r\n  useEffect(() => {\r\n    fetchKyc();\r\n  }, []);\r\n\r\n  return (\n    <AdminGuard>\n      <div className=\"max-w-5xl mx-auto p-6\">\n        <h1 className=\"text-2xl font-semibold mb-4\">KYC Review</h1>\n        {msg && <p className=\"mb-2 text-sm text-blue-600\">{msg}</p>}\n        <div className=\"flex flex-wrap items-center gap-2 mb-3\">\n          <button onClick={() => fetchKyc()} className=\"text-xs bg-gray-700 text-white px-2 py-1 rounded\">Refresh</button>\n          <select value={filterStatus} onChange={e => setFilterStatus(e.target.value as any)} className=\"text-xs border rounded px-2 py-1\">\n            <option value=\"all\">All</option>\n            <option value=\"pending\">Pending</option>\n            <option value=\"approved\">Approved</option>\n            <option value=\"rejected\">Rejected</option>\n          </select>\n          <input value={query} onChange={e => setQuery(e.target.value)} placeholder=\"Search email\" className=\"text-xs border rounded px-2 py-1\" />\n          <button\n            onClick={async () => {\n              try {\n                const { data: session } = await supabase.auth.getSession();\n                const token = session.session?.access_token;\n                if (!token) throw new Error('Session lost');\n                const res = await fetch('/api/admin/storage/kyc-init', { headers: { Authorization: `Bearer ${token}` } });\n                const json = await res.json();\n                if (!res.ok) throw new Error(json.error || 'Failed');\n                setMsg('KYC storage ready');\n              } catch (e: any) { setMsg(e.message); }\n            }}\n            className=\"text-xs bg-blue-700 text-white px-2 py-1 rounded\"\n          >Init Storage</button>\n        </div>\n        {loading && <p className=\"text-sm\">Loading…</p>}\n        <div className=\"overflow-auto\">\n          <table className=\"min-w-full table-auto text-sm\">\n            <thead>\n              <tr className=\"bg-gray-100 text-black\">\n                <th className=\"px-2 py-1 text-left\">Email</th>\n                <th className=\"px-2 py-1 text-left\">Level</th>\n                <th className=\"px-2 py-1 text-left\">Status</th>\n                <th className=\"px-2 py-1 text-left\">Submitted</th>\n                <th className=\"px-2 py-1\">Actions</th>\n              </tr>\n            </thead>\n            <tbody>\n              {list\n                .filter(u => filterStatus === 'all' ? true : String(u.kyc_status || 'pending') === filterStatus)\n                .filter(u => query ? String(u.email || '').toLowerCase().includes(query.toLowerCase()) : true)\n                .map((u) => (\n                <tr key={u.user_id} className=\"border-t\">\n                  <td className=\"px-2 py-1\">{u.email}</td>\n                  <td className=\"px-2 py-1\">{(u as any).kyc_level ?? '-'}</td>\n                  <td className=\"px-2 py-1\">\n                    <span\n                      className={`inline-block px-2 rounded text-xs ${\n                        u.kyc_status === 'approved'\n                          ? 'bg-green-100 text-green-800'\n                          : u.kyc_status === 'rejected'\n                          ? 'bg-red-100 text-red-800'\n                          : 'bg-yellow-100 text-yellow-800'\n                      }`}\n                    >\n                      {u.kyc_status}\n                    </span>\n                  </td>\n                  <td className=\"px-2 py-1\">{u.kyc_submitted_at ? new Date(u.kyc_submitted_at).toLocaleString() : '-'}</td>\n                  <td className=\"px-2 py-1\">\n                  <div className=\"flex gap-2\">\n                    <button\n                      onClick={() => viewDetails(u.user_id)}\n                      className=\"text-xs bg-gray-600 text-white px-2 py-1 rounded\"\n                    >\n                      View Details\n                    </button>\n                    {u.kyc_status === 'pending' && (\n                      <>\n                        <select\n                          value={recordLevels[u.user_id] ?? u.kyc_level ?? 1}\n                          onChange={(e) => setRecordLevels((m) => ({ ...m, [u.user_id]: Number(e.target.value) }))}\n                          className=\"text-xs border rounded px-2 py-1\"\n                        >\n                          {[1,2,3].map(l => <option key={l} value={l}>Level {l}</option>)}\n                        </select>\n                        <button\n                          onClick={() => setStatus(u.user_id, 'approved', recordLevels[u.user_id] ?? u.kyc_level ?? 1)}\n                          className=\"text-xs bg-green-600 text-white px-2 py-1 rounded\"\n                        >\n                          Approve\n                        </button>\n                        <input\n                          value={active === u.user_id ? rejectReason : ''}\n                          onChange={(e) => { if (active === u.user_id) setRejectReason(e.target.value) }}\n                          placeholder=\"Reason\"\n                          className=\"text-xs border rounded px-2 py-1\"\n                          style={{ width: 120 }}\n                        />\n                        <button\n                          onClick={() => setStatus(u.user_id, 'rejected')}\n                          className=\"text-xs bg-red-600 text-white px-2 py-1 rounded\"\n                        >\n                          Reject\n                        </button>\n                      </>\n                    )}\n                  </div>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n        {active && (\n          <div className=\"mt-4 p-4 border rounded bg-white\">\n            <h2 className=\"text-lg font-semibold mb-2\">KYC Details</h2>\n            {details && (\n              <div className=\"text-sm space-y-1\">\n                <p>Full Name: {String(details?.fullName || '')}</p>\n                <p>Date of Birth: {String(details?.dob || '')}</p>\n                <p>Address: {String(details?.address || '')}</p>\n                <p>ID Type: {String(details?.idType || '')}</p>\n                <p>ID Number: {String(details?.idNumber || '')}</p>\n                <p>Level: {String(details?.level || '')}</p>\n              </div>\n            )}\n            <div className=\"flex flex-wrap gap-3 mt-3 text-sm\">\n              {files?.idUrl && (<a href={files.idUrl} target=\"_blank\" rel=\"noreferrer\" className=\"text-blue-600 underline\">View ID</a>)}\n              {files?.neutralUrl && (<a href={files.neutralUrl} target=\"_blank\" rel=\"noreferrer\" className=\"text-blue-600 underline\">Neutral</a>)}\n              {files?.smileUrl && (<a href={files.smileUrl} target=\"_blank\" rel=\"noreferrer\" className=\"text-blue-600 underline\">Smile</a>)}\n              {files?.leftUrl && (<a href={files.leftUrl} target=\"_blank\" rel=\"noreferrer\" className=\"text-blue-600 underline\">Left</a>)}\n              {files?.rightUrl && (<a href={files.rightUrl} target=\"_blank\" rel=\"noreferrer\" className=\"text-blue-600 underline\">Right</a>)}\n            </div>\n            {details?.livenessMetrics && (\n              <div className=\"mt-2 text-xs\">\n                <p>Smile vs Neutral diff: {String(details.livenessMetrics.diff_smile_vs_neutral)}%</p>\n                <p>Left vs Neutral diff: {String(details.livenessMetrics.diff_left_vs_neutral)}%</p>\n                <p>Right vs Neutral diff: {String(details.livenessMetrics.diff_right_vs_neutral)}%</p>\n              </div>\n            )}\n            <div className=\"mt-3 text-sm\">\n              {list.find((x) => x.user_id === active)?.kyc_reject_reason && (\n                <p className=\"text-red-700\">Reject Reason: {String(list.find((x) => x.user_id === active)?.kyc_reject_reason || '')}</p>\n              )}\n              {list.find((x) => x.user_id === active)?.kyc_decision_at && (\n                <p>Decision At: {new Date(String(list.find((x) => x.user_id === active)?.kyc_decision_at)).toLocaleString()}</p>\n              )}\n            </div>\n          </div>\n        )}\n      </div>\n    </AdminGuard>\n  );\n}\n","import { PagesRouteModule } from \"next/dist/esm/server/route-modules/pages/module.compiled\";\nimport { RouteKind } from \"next/dist/esm/server/route-kind\";\nimport { hoist } from \"next/dist/esm/build/templates/helpers\";\n// Import the app and document modules.\nimport * as document from \"INNER_DOCUMENT\";\nimport * as app from \"INNER_APP\";\n// Import the userland code.\nimport * as userland from \"INNER_PAGE\";\nimport { getHandler } from \"next/dist/esm/server/route-modules/pages/pages-handler\";\n// Re-export the component (should be the default export).\nexport default hoist(userland, 'default');\n// Re-export methods.\nexport const getStaticProps = hoist(userland, 'getStaticProps');\nexport const getStaticPaths = hoist(userland, 'getStaticPaths');\nexport const getServerSideProps = hoist(userland, 'getServerSideProps');\nexport const config = hoist(userland, 'config');\nexport const reportWebVitals = hoist(userland, 'reportWebVitals');\n// Re-export legacy methods.\nexport const unstable_getStaticProps = hoist(userland, 'unstable_getStaticProps');\nexport const unstable_getStaticPaths = hoist(userland, 'unstable_getStaticPaths');\nexport const unstable_getStaticParams = hoist(userland, 'unstable_getStaticParams');\nexport const unstable_getServerProps = hoist(userland, 'unstable_getServerProps');\nexport const unstable_getServerSideProps = hoist(userland, 'unstable_getServerSideProps');\n// Create and export the route module that will be consumed.\nexport const routeModule = new PagesRouteModule({\n    definition: {\n        kind: RouteKind.PAGES,\n        page: \"/admin/kyc\",\n        pathname: \"/admin/kyc\",\n        // The following aren't used in production.\n        bundlePath: '',\n        filename: ''\n    },\n    distDir: process.env.__NEXT_RELATIVE_DIST_DIR || '',\n    relativeProjectDir: process.env.__NEXT_RELATIVE_PROJECT_DIR || '',\n    components: {\n        // default export might not exist when optimized for data only\n        App: app.default,\n        Document: document.default\n    },\n    userland\n});\nexport const handler = getHandler({\n    srcPage: \"/admin/kyc\",\n    config,\n    userland,\n    routeModule,\n    getStaticPaths,\n    getStaticProps,\n    getServerSideProps\n});\n\n//# sourceMappingURL=pages.js.map\n"],"names":[],"mappings":"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","ignoreList":[2]}