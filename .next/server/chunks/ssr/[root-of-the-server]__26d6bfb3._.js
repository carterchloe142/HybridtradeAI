module.exports=[18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},42602,(a,b,c)=>{"use strict";b.exports=a.r(18622)},87924,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactJsxRuntime},72131,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].React},71272,a=>{"use strict";var b=a.i(87924),c=a.i(72596),d=a.i(72131);let e=a=>fetch(a).then(a=>a.json());function f(){let[a,f]=(0,d.useState)("personal"),[g,h]=(0,d.useState)(""),[i,j]=(0,d.useState)(!1),k=(0,d.useMemo)(()=>{let b=new URLSearchParams;return b.set("scope",a),g&&b.set("type",g),i&&b.set("unreadOnly","true"),b.set("limit","50"),b.toString()},[a,g,i]),{data:l,mutate:m}=(0,c.default)(`/api/admin/notifications?${k}`,e),n=Array.isArray(l?.items)?l.items:[],[o,p]=(0,d.useState)([]);async function q(){"personal"===a&&0!==o.length&&(await fetch("/api/admin/notifications/mark-read",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ids:o})}),p([]),m())}return(0,b.jsxs)("div",{className:"p-6",children:[(0,b.jsx)("h1",{className:"text-2xl font-semibold mb-4",children:"Admin Notifications"}),(0,b.jsxs)("div",{className:"flex flex-wrap items-center gap-3 mb-4",children:[(0,b.jsx)("label",{className:"text-sm",children:"Scope"}),(0,b.jsxs)("select",{className:"px-3 py-2 rounded border border-white/10 bg-black/20",value:a,onChange:a=>f(a.target.value),children:[(0,b.jsx)("option",{value:"personal",children:"Personal"}),(0,b.jsx)("option",{value:"global",children:"Global"})]}),(0,b.jsx)("label",{className:"text-sm",children:"Type"}),(0,b.jsx)("input",{className:"px-3 py-2 rounded border border-white/10 bg-black/20",placeholder:"type",value:g,onChange:a=>h(a.target.value)}),"personal"===a&&(0,b.jsxs)("label",{className:"flex items-center gap-2 text-sm",children:[(0,b.jsx)("input",{type:"checkbox",checked:i,onChange:a=>j(a.target.checked)})," Unread only"]}),"personal"===a&&(0,b.jsx)("button",{className:"px-4 py-2 rounded bg-blue-600",disabled:0===o.length,onClick:q,children:"Mark selected read"})]}),(0,b.jsx)("div",{className:"rounded-xl bg-white/5 dark:bg-black/20 backdrop-blur-lg border border-white/10",children:(0,b.jsxs)("table",{className:"w-full text-sm",children:[(0,b.jsx)("thead",{className:"text-left",children:(0,b.jsxs)("tr",{children:["personal"===a&&(0,b.jsx)("th",{className:"p-3",children:"Select"}),(0,b.jsx)("th",{className:"p-3",children:"Type"}),(0,b.jsx)("th",{className:"p-3",children:"Title"}),(0,b.jsx)("th",{className:"p-3",children:"Message"}),(0,b.jsx)("th",{className:"p-3",children:"Created"}),"personal"===a&&(0,b.jsx)("th",{className:"p-3",children:"Read"})]})}),(0,b.jsxs)("tbody",{children:[n.map(c=>(0,b.jsxs)("tr",{className:"hover:bg-white/10",children:["personal"===a&&(0,b.jsx)("td",{className:"p-3",children:(0,b.jsx)("input",{type:"checkbox",checked:o.includes(c.id),onChange:a=>{a.target.checked?p(a=>[...a,c.id]):p(a=>a.filter(a=>a!==c.id))}})}),(0,b.jsx)("td",{className:"p-3",children:c.type}),(0,b.jsx)("td",{className:"p-3",children:c.title}),(0,b.jsx)("td",{className:"p-3",children:c.message}),(0,b.jsx)("td",{className:"p-3",children:c.createdAt?new Date(c.createdAt).toLocaleString():""}),"personal"===a&&(0,b.jsx)("td",{className:"p-3",children:c.read?"Yes":"No"})]},c.id)),0===n.length&&(0,b.jsx)("tr",{children:(0,b.jsx)("td",{className:"p-3",colSpan:"personal"===a?6:5,children:"No notifications"})})]})]})})]})}a.s(["default",()=>f])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__26d6bfb3._.js.map